(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{1596:(e,r,t)=>{Promise.resolve().then(t.bind(t,5612))},6046:(e,r,t)=>{"use strict";var a=t(6658);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},1928:(e,r,t)=>{"use strict";let a,s,n;t.d(r,{j2:()=>s,kA:()=>n});var o=t(9904),i=t(399),l=t(7058);let d=(e=>{let r=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(r=>!e[r]);if(r.length>0)throw Error("Missing required Firebase config fields: ".concat(r.join(", ")));return e})({apiKey:"AIzaSyBuILkJM2aUC91OL_EpTxnT1rrFm51x-vc",authDomain:"condo24-55e1e.firebaseapp.com",projectId:"condo24-55e1e",storageBucket:"condo24-55e1e.firebasestorage.app",messagingSenderId:"519072943845",appId:"1:519072943845:web:455c1302942776856dce0c",measurementId:t(2818).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||""});try{a=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)(d),s=(0,i.xI)(a),n=(0,l.aU)(a)}catch(e){throw console.error("\uD83D\uDD25 Firebase initialization error:",e.message),e}},5612:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(5155),s=t(6046),n=t(1928),o=t(7058),i=t(2115);let l=()=>{let e=(0,s.useRouter)(),[r,t]=(0,i.useState)(!1),[l,d]=(0,i.useState)(null),u=async()=>{t(!0),d(null);try{let r=n.j2.currentUser;if(!r)throw Error("User not found. Please log in again.");let t=(0,o.H9)(n.kA,"users",r.uid);await (0,o.mZ)(t,{role:"admin"}),console.log("User role updated to admin in Firestore."),e.push("/admin")}catch(e){console.error("Error updating user role:",e),d("Failed to update your admin status. Please try again.")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Admin Upgrade"}),(0,a.jsx)("p",{className:"text-center mb-4",children:"To become an admin, complete the payment."}),l&&(0,a.jsx)("p",{className:"text-red-500 text-center mb-4",children:l}),(0,a.jsx)("button",{onClick:u,className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200 disabled:bg-gray-400",disabled:r,children:r?"Processing...":"Pay Now"})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,533,459,441,517,358],()=>r(1596)),_N_E=e.O()}]);